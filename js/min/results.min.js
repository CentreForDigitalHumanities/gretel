<<<<<<< HEAD
$(function(){function t(){!O&&S<=phpVars.resultsLimit&&($(".loading-wrapper.searching").addClass("active"),u=$.ajax(phpVars.fetchResultsPath).done(function(t){if(!O&&!z){var e=$.parseJSON(t);!e.error&&e.data?(y.find("tbody.empty").hide(),d(e.data,!1)):($(".loading-wrapper.searching").removeClass("active"),x.closest(".results-messages-wrapper").addClass("active"),k.addClass("active"),e.error?s(e.data):0==y.find("tbody:not(.empty)").children().length?o():i(),clearTimeout(T),O=!0,z=!0,p&&p.abort(),h&&h.abort())}}).fail(function(t,e,a){if("abort"!=a){var n="An error occurred";""!=a&&(n+=": "+a+"."),s(n)}}).always(function(){S!=v||O||z||e()}))}function e(){p||(clearTimeout(T),p=$.ajax(phpVars.getAllResultsPath).done(function(t){var e=$.parseJSON(t);!e.error&&e.data?(y.find("tbody.empty").hide(),d(e.data,!0)):($(".loading-wrapper.searching").removeClass("active"),x.children("div").removeClass("error notice").closest(".results-messages-wrapper").show(),k.addClass("active"),e.error?s(e.data):0==y.find("tbody:not(.empty)").children().length&&o())}).fail(function(t,e,a){if("abort"!=a){var n="An error occurred: "+a+".";s(n)}}).always(function(){O=!0,u&&u.abort()}))}function a(){h=$.ajax(phpVars.fetchCountsPath).done(function(t){var e=$.parseJSON(t),a=e[0],i=e[1];if(!e.error&&e.sum&&e.counts&&(P=a,a=n(parseInt(a)),w.find(".count strong + span").text(a),x.find(".amount-hits").text(a),x.find(".is-still-counting").remove(),g.removeClass("counts-loading"),g.addClass("counts-done"),P>0)){var o=Object.keys(i).length;if("undefined"!=typeof i&&o>0){var s=0,r=0;for(var d in i){var l=d.split("_")[2],c=n(parseInt(i[d][0])),p=n(parseInt(i[d][1]));s+=parseInt(i[d][0]),r+=parseInt(i[d][1]),k.find(".distribution-wrapper tbody").append("<tr><td>"+l+"</td><td>"+c+"</td><td>"+p+"</td></tr>")}k.find(".distribution-wrapper tbody").append("<tr><th>Total</th><th>"+n(s)+"</th><th>"+n(r)+"</th></tr>"),k.find(".distribution-wrapper").show()}P>phpVars.resultsLimit&&x.find(".is-restricted").show()}}).fail(function(t,e,a){if("abort"!=a){var n="An error occurred: "+a+".";s(n)}}).always(function(){I=!0})}function n(t){return Number.isInteger(t)&&t>999?t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):t}function i(){l(),g.removeClass("results-loading").addClass("results-done"),x.load(phpVars.fetchHomePath+"/front-end-includes/results-messages.php #results-found",function(){I&&(x.find(".amount-hits").html(n(parseInt(P))),x.find(".is-still-counting").remove()),S<phpVars.resultsLimit&&(null!=h&&(h.abort(),h=null),countString=w.find(".count strong").text(),w.find(".count strong + span").text(countString),x.find(".amount-hits").text(countString),x.find(".is-still-counting").remove()),x.children("div").removeClass("error").addClass("notice active").closest(".results-messages-wrapper").show(),k.addClass("active"),V.show()})}function o(){g.removeClass("results-loading").addClass("results-none"),y.add(w).remove(),k.addClass("no-results"),g.addClass("search-no-results"),x.load(phpVars.fetchHomePath+"/front-end-includes/results-messages.php #no-results-found",function(){x.children("div").removeClass("notice").addClass("error active").closest(".results-messages-wrapper").show()})}function s(t){g.removeClass("results-loading").addClass("results-failed"),y.add(w).remove(),k.addClass("error"),g.addClass("search-error"),x.load(phpVars.fetchHomePath+"/front-end-includes/results-messages.php #error",function(){var e='<p>If this error persists, please do not hesitate to <a href="documentation.php#faq-4" title="How can you contact us?">contact us</a>!</p>';x.find(".error-msg").text(t).after(e),x.children("div").removeClass("notice").addClass("error active").closest(".results-messages-wrapper").show()})}function r(){if(!g.hasClass("tv-fs-open")&&1==m.indexOf("tv-")){var t=m.match(/\d+$/);$("a.tv-show-fs").eq(t[0]-1).click()}}function d(e,a){a&&(O=!0,S=0,y.find("tbody:not(.empty)").empty()),$.each(e,function(t,e){if(a||!a&&!O){S++;var n=e[0];n=n.replace(/\bhref=\"([^"]+)\"/,'href="#tv-'+S+'" data-tv-url="$1"'),y.find("tbody:not(.empty)").append('<tr data-result-id="'+S+'" data-component="'+e[2]+'"><td>'+S+"</td><td>"+n+"</td><td>"+e[2]+"</td><td>"+e[1]+"</td></tr>")}r()}),resultIDString=n(parseInt(S)),w.find(".count strong").text(resultIDString),a||O?i():t()}function l(){$("[for='filter-components'], .filter-sel-wrapper label").removeClass("disabled").children("input").prop("disabled",!1),C.find("[type='checkbox'][name='component']").each(function(t,e){var a=$(e),n=a.val();0==y.find("tbody:not(.empty) tr[data-component^='"+n+"']").length&&(a.prop("disabled",!0),a.prop("checked",!1),a.parent("label").addClass("disabled"))})}function c(){null!=p&&(p.abort(),p=null),null!=h&&(h.abort(),h=null),null!=u&&(u.abort(),u=null),O=!0}var p,u,h,f=500,v=4,m=window.location.hash,b=($(window),$(document)),g=$("body"),w=$(".controls"),y=$(".results-ajax-wrapper"),C=$(".filter-sel-wrapper"),k=$("#download-overview .flex-content"),x=k.find(".messages"),V=$(".notification-wrapper"),S=0,P=0,O=!1,I=!1,z=!1;t(),a(),g.addClass("results-loading counts-loading");var T=setTimeout(function(){e()},f);m&&1==m.indexOf("tv-")&&x.load(phpVars.fetchHomePath+"/front-end-includes/results-messages.php #looking-for-tree",function(){x.children("div").removeClass("error").addClass("notice active").closest(".results-messages-wrapper").show(),k.addClass("active")}),b.click(function(t){if(w.find(".filter-wrapper").hasClass("active")){var e=$(t.target);e.closest(".filter-wrapper").length||w.find(".filter-wrapper").removeClass("active")}}),w.find("[for='filter-components']").click(function(){$(this).parent().addClass("active")}),C.find("[type='checkbox']").change(function(){var t=$(this),e=t.val();$("#all-components").prop("indeterminate",!1),t.is("[name='component']")?(t.is(":checked")?y.find("tbody:not(.empty) tr[data-component^='"+e+"']").show():y.find("tbody:not(.empty) tr[data-component^='"+e+"']").hide(),C.find("[name='component']").is(":checked")?(C.find("[name='component']:not(:disabled)").length==C.find("[name='component']:not(:disabled):checked").length?C.find("#all-components").prop("checked",!0).parent().addClass("active"):C.find("#all-components").prop("checked",!1).prop("indeterminate",!0).parent().removeClass("active"),y.find(".empty").hide()):(y.find(".empty").css("display","table-row-group").find("td").text("No results matching the specified filters"),C.find("#all-components").prop("checked",!1).parent().removeClass("active"))):t.is("#all-components")&&(t.parent().toggleClass("active"),C.find("[type='checkbox'][name='component']:not(:disabled)").prop("checked",t.is(":checked")).change())}),window.addEventListener("beforeunload",function(){c()}),$(".secondary-navigation a").click(function(){c()}),y.find("tbody").on("click","a.tv-show-fs",function(t){var e=$(this),a=e.parent().nextAll("td:last-child").html(),n=$("#tree-visualizer-fs");y.find("tbody a").removeClass("tv-toggled-link"),this.hasAttribute("data-tv-fontsize")||e.attr("data-tv-fontsize",0),n.attr("data-tv-active-index",e.closest("tr").index()),e.addClass("tv-toggled-link"),g.treeVisualizer(e.data("tv-url"),{normalView:!1,initFSOnClick:!0,sentence:a,hasNavigation:!0}),t.preventDefault()}),V.find("button").click(function(){V.hide()}),V.find("a").click(function(t){t.preventDefault(),$("html, body").stop().animate({scrollTop:$("#download-overview").offset().top},150),V.fadeOut("fast")}),$("#results-menu a").off("click").click(function(t){$("html, body").stop().animate({scrollTop:$($(this).attr("href")).offset().top},150),t.preventDefault()})});
=======
$(function(){function a(){!B&&z<=phpVars.resultsLimit&&($(".loading-wrapper.searching").addClass("active"),m=$.ajax(phpVars.fetchResultsPath).done(function(a){if(!B){var b=$.parseJSON(a);!b.error&&b.data?(u.find("tbody.empty").hide(),i(b.data,!1)):($(".loading-wrapper.searching").removeClass("active"),x.closest(".results-messages-wrapper").addClass("active"),w.addClass("active"),b.error?g(b.data):0==u.find("tbody:not(.empty)").children().length?f():e(),clearTimeout(D),B=!0,l&&l.abort())}}).fail(function(a,b,c){if("abort"!=c){var d="An error occurred";""!=c&&(d+=": "+c+"."),g(d)}}).always(function(){z!=p||B||b()}))}function b(){l||(clearTimeout(D),l=$.ajax(phpVars.getAllResultsPath).done(function(a){var b=$.parseJSON(a);!b.error&&b.data?(u.find("tbody.empty").hide(),i(b.data,!0)):($(".loading-wrapper.searching").removeClass("active"),x.children("div").removeClass("error notice").closest(".results-messages-wrapper").show(),w.addClass("active"),b.error?g(b.data):0==u.find("tbody:not(.empty)").children().length&&f())}).fail(function(a,b,c){if("abort"!=c){g("An error occurred: "+c+".")}}).always(function(){B=!0,m&&m.abort()}))}function c(){n=$.ajax(phpVars.fetchCountsPath).done(function(a){var b=$.parseJSON(a),c=b[0],e=b[1];if(A=c,c=d(parseInt(c)),t.find(".count strong + span").text(c),x.find(".amount-hits").text(c),x.find(".is-still-counting").remove(),s.removeClass("counts-loading"),s.addClass("counts-done"),A>0){var f=Object.keys(e).length;if(void 0!==e&&f>0){var g=0,h=0;for(var i in e){var j=i.split("_")[2],k=d(parseInt(e[i][0])),l=d(parseInt(e[i][1]));g+=parseInt(e[i][0]),h+=parseInt(e[i][1]),w.find(".distribution-wrapper tbody").append("<tr><td>"+j+"</td><td>"+k+"</td><td>"+l+"</td></tr>")}w.find(".distribution-wrapper tbody").append("<tr><th>Total</th><th>"+d(g)+"</th><th>"+d(h)+"</th></tr>"),w.find(".distribution-wrapper").show()}A>phpVars.resultsLimit&&x.find(".is-restricted").show()}}).fail(function(a,b,c){if("abort"!=c){g("An error occurred: "+c+".")}}).always(function(){C=!0})}function d(a){return Number.isInteger(a)&&a>999?a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):a}function e(){j(),s.removeClass("results-loading").addClass("results-done"),x.load(phpVars.fetchHomePath+"/front-end-includes/results-messages.php #results-found",function(){C&&(x.find(".amount-hits").html(d(parseInt(A))),x.find(".is-still-counting").remove()),z<phpVars.resultsLimit&&(null!=n&&(n.abort(),n=null),countString=t.find(".count strong").text(),t.find(".count strong + span").text(countString),x.find(".amount-hits").text(countString),x.find(".is-still-counting").remove()),x.children("div").removeClass("error").addClass("notice active").closest(".results-messages-wrapper").show(),w.addClass("active"),y.show()})}function f(){s.removeClass("results-loading").addClass("results-none"),u.add(t).remove(),w.addClass("no-results"),s.addClass("search-no-results"),x.load(phpVars.fetchHomePath+"/front-end-includes/results-messages.php #no-results-found",function(){x.children("div").removeClass("notice").addClass("error active").closest(".results-messages-wrapper").show()})}function g(a){s.removeClass("results-loading").addClass("results-failed"),u.add(t).remove(),w.addClass("error"),s.addClass("search-error"),x.load(phpVars.fetchHomePath+"/front-end-includes/results-messages.php #error",function(){x.find(".error-msg").text(a),x.children("div").removeClass("notice").addClass("error active").closest(".results-messages-wrapper").show()})}function h(){if(!s.hasClass("tv-fs-open")&&1==q.indexOf("tv-")){var a=q.match(/\d+$/);$("a.tv-show-fs").eq(a[0]-1).click()}}function i(b,c){c&&(B=!0,z=0,u.find("tbody:not(.empty)").empty()),$.each(b,function(a,b){if(c||!c&&!B){z++;var d=b[0];d=d.replace(/\bhref=\"([^"]+)\"/,'href="#tv-'+z+'" data-tv-url="$1"'),u.find("tbody:not(.empty)").append('<tr data-result-id="'+z+'" data-component="'+b[2]+'"><td>'+z+"</td><td>"+d+"</td><td>"+b[2]+"</td><td>"+b[1]+"</td></tr>")}h()}),resultIDString=d(parseInt(z)),t.find(".count strong").text(resultIDString),c||B?e():a()}function j(){$("[for='filter-components'], .filter-sel-wrapper label").removeClass("disabled").children("input").prop("disabled",!1),v.find("[type='checkbox'][name='component']").each(function(a,b){var c=$(b),d=c.val();0==u.find("tbody:not(.empty) tr[data-component^='"+d+"']").length&&(c.prop("disabled",!0),c.prop("checked",!1),c.parent("label").addClass("disabled"))})}function k(){null!=l&&(l.abort(),l=null),null!=n&&(n.abort(),n=null),null!=m&&(m.abort(),m=null),B=!0}var l,m,n,o=500,p=4,q=window.location.hash,r=($(window),$(document)),s=$("body"),t=$(".controls"),u=$(".results-ajax-wrapper"),v=$(".filter-sel-wrapper"),w=$("#download-overview .flex-content"),x=w.find(".messages"),y=$(".notification-wrapper"),z=0,A=0,B=!1,C=!1;a(),c(),s.addClass("results-loading counts-loading");var D=setTimeout(function(){b()},o);q&&1==q.indexOf("tv-")&&x.load(phpVars.fetchHomePath+"/front-end-includes/results-messages.php #looking-for-tree",function(){x.children("div").removeClass("error").addClass("notice active").closest(".results-messages-wrapper").show(),w.addClass("active")}),r.click(function(a){if(t.find(".filter-wrapper").hasClass("active")){$(a.target).closest(".filter-wrapper").length||t.find(".filter-wrapper").removeClass("active")}}),t.find("[for='filter-components']").click(function(){$(this).parent().addClass("active")}),t.find("[for='filter-metadata']").click(function(){$(this).parent().addClass("active")}),v.find("[type='checkbox']").change(function(){var a=$(this),b=a.val();$("#all-components").prop("indeterminate",!1),a.is("[name='component']")?(a.is(":checked")?u.find("tbody:not(.empty) tr[data-component^='"+b+"']").show():u.find("tbody:not(.empty) tr[data-component^='"+b+"']").hide(),v.find("[name='component']").is(":checked")?(v.find("[name='component']:not(:disabled)").length==v.find("[name='component']:not(:disabled):checked").length?v.find("#all-components").prop("checked",!0).parent().addClass("active"):v.find("#all-components").prop("checked",!1).prop("indeterminate",!0).parent().removeClass("active"),u.find(".empty").hide()):(u.find(".empty").css("display","table-row-group").find("td").text("No results matching the specified filters"),v.find("#all-components").prop("checked",!1).parent().removeClass("active"))):a.is("#all-components")&&(a.parent().toggleClass("active"),v.find("[type='checkbox'][name='component']:not(:disabled)").prop("checked",a.is(":checked")).change())}),window.addEventListener("beforeunload",function(){k()}),$(".secondary-navigation a").click(function(){k()}),u.find("tbody").on("click","a.tv-show-fs",function(a){var b=$(this),c=b.parent().nextAll("td:last-child").html(),d=$("#tree-visualizer-fs");u.find("tbody a").removeClass("tv-toggled-link"),this.hasAttribute("data-tv-fontsize")||b.attr("data-tv-fontsize",0),d.attr("data-tv-active-index",b.closest("tr").index()),b.addClass("tv-toggled-link"),s.treeVisualizer(b.data("tv-url"),{normalView:!1,initFSOnClick:!0,sentence:c,hasNavigation:!0}),a.preventDefault()}),y.find("button").click(function(){y.hide()}),y.find("a").click(function(a){a.preventDefault(),$("html, body").stop().animate({scrollTop:$("#download-overview").offset().top},150),y.fadeOut("fast")}),$("a.collapse").off().click(function(a){var b=$(this);"hidden"==b.attr("data-collapse")?(b.attr("data-collapse","visible"),b.next("[data-target]").show()):(b.attr("data-collapse","hidden"),b.next("[data-target]").hide()),a.preventDefault()}),$("#results-menu a").off("click").click(function(a){$("html, body").stop().animate({scrollTop:$($(this).attr("href")).offset().top},150),a.preventDefault()})});
>>>>>>> bcb630f... Starting to use Grunt for auto-compiling SCSS and auto-minifying CSS and JavaScript

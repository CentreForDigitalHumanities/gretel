<h1 class="title" [ngClass]="{'is-loading': loading}" grtSubtitle>
    Select Treebanks
</h1>
<div class="columns is-desktop">
    <div class="column">
        <p>
            Which treebank do you want to query? Click on the treebank name to see its different components. If you
            would
            like to get more information on these treebanks, you can find the project websites in
            <a [routerLink]="['/','documentation']" fragment="about-corpora" target="_blank" grtBalloonPosition="down"
                grtBalloon="More information on corpora">our FAQ</a>.
        </p>
    </div>
    <div class="column">
        <p>You can search an entire treebank, or select just one or more components. Due to pre-processing
            difficulties some sentences could not be included in the system, so the sentence and word counts may
            slightly differ from
            the official treebank counts.
        </p>
    </div>
</div>
<div class="field is-grouped">
    <p class="control">
        <input class="input" placeholder="Filter by name" />
    </p>
    <div class="control">
        <grt-select-treebank-providers [(preConfigured)]="showPreConfigured" [users]="userProviders"
            [(selectedUserIds)]="showUsers" (showUserTags)="showUserTags = true">
        </grt-select-treebank-providers>
    </div>
    <p class="control" *ngIf="userProviders.length">
        <button class="button" [ngClass]="{'is-primary': showUserTags }" (click)="showUserTags=!showUserTags"
            grtBalloon="Show the treebanks' users">
            <span class="icon">
                <i class="fas fa-tags"></i>
            </span>
        </button>
    </p>
</div>
<ng-container *ngFor="let treebank of treebanks">
    <ng-container *ngIf="treebank.selected ||
        (showPreConfigured && treebank.preConfigured) ||
        (showUsers.indexOf(treebank.userId) >= 0)">
        <div class="field">
            <label class="checkbox">
                <input type="checkbox" [value]="treebank.id" [checked]="treebank.selected"
                    (change)="toggleTreebank(treebank.provider, treebank.id)">
                {{treebank.displayName}}<ng-container *ngIf="treebank.description">:
                    <em>{{treebank.description}}</em>
                </ng-container>
                <ng-container *ngIf="treebank.color">
                    &nbsp;
                    <div class="tag is-{{treebank.color}}" [ngClass]="{'is-invisible': !showUserTags}">
                        {{treebank.userName}}
                    </div>
                </ng-container>
            </label>
        </div>
        <div *ngIf="treebank.selected" class="box-is-shadowless" [@slideDown]>
            <grt-sub-treebanks [treebank]="treebank"></grt-sub-treebanks>
        </div>
    </ng-container>
</ng-container>

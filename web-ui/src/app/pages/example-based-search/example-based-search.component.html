<grt-body-header>Example-based Search</grt-body-header>
<ng-container *ngIf="globalState.currentStep">
    <grt-breadcrumb-bar [crumbs]="crumbs" [currentCrumb]="globalState.currentStep.number"></grt-breadcrumb-bar>
    <div [ngSwitch]="globalState.currentStep.number" [ngClass]="{'is-loading':isTransitioning}">
        <grt-sentence-input *ngSwitchCase="0" (changeValid)="setValid($event)" (changeValue)="updateSentence($event)"
            [inputSentence]="globalState.inputSentence" (next)="next()" #sentenceInput></grt-sentence-input>
        <grt-parse *ngSwitchCase="1" (changeValid)="setValid($event)" [sentence]="globalState.inputSentence" [xml]="globalState.exampleXml"
            #parse></grt-parse>
        <grt-matrix *ngSwitchCase="2" (changeValid)="setValid($event)" (changeValue)="updateMatrix($event)"
            [retrieveContext]="globalState.retrieveContext" [respectOrder]="globalState.respectOrder" [ignoreTopNode]="globalState.ignoreTopNode"
            [attributes]="globalState.attributes" [isCustomXPath]="globalState.isCustomXPath" [tokens]="globalState.tokens"
            [xpath]="globalState.xpath" [subTreeXml]="globalState.subTreeXml" #matrix></grt-matrix>
        <grt-select-treebanks *ngSwitchCase="3" (changeValid)="setValid($event)" [mainTreebank]="globalState.selectedTreebanks.corpus"
            [subTreebanks]="globalState.selectedTreebanks.components" (mainTreebankChange)="updateSelectedMainTreebank($event)"
            (subTreebanksChange)="updateSelectedSubTreebanks($event)" #selectTreebanks></grt-select-treebanks>
        <grt-results *ngSwitchCase="4" [corpus]="globalState.selectedTreebanks.corpus" [components]="globalState.selectedTreebanks.components"
            [filterValues]="globalState.filterValues" [inputSentence]="globalState.inputSentence" [retrieveContext]="globalState.retrieveContext"
            [xpath]="globalState.xpath" (xpathChange)="updateXPath($event)" (changeFilterValues)="updateFilterValues($event)"
            (changeRetrieveContext)="updateRetrieveContext($event)" (changeValid)="setValid($event)" (prev)="prev()"
            (next)="next()" #results></grt-results>
        <grt-analysis *ngSwitchCase="5" [corpus]="globalState.selectedTreebanks.corpus" [components]="globalState.selectedTreebanks.components"
            [xpath]="globalState.xpath" (filterResults)="filterResults($event, 4)" (changeValid)="setValid($event)" #analysis></grt-analysis>
    </div>
    <br />
    <div *ngIf="warning" class="notification is-danger">{{warning}}</div>
    <grt-step-buttons *ngIf="globalState.currentStep.number > 0" (prev)="prev()" (next)="next()" [currentStep]="globalState.currentStep"
        [steps]="steps"></grt-step-buttons>
</ng-container>

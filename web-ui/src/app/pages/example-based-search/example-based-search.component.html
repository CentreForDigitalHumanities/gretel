<grt-body-header>Example-based Search</grt-body-header>
<ng-container *ngIf="globalState.currentStep">
    <grt-breadcrumb-bar [crumbs]="crumbs" [currentCrumb]="globalState.currentStep.number"></grt-breadcrumb-bar>
    <div [ngSwitch]="globalState.currentStep.number" [ngClass]="{'is-loading':isTransitioning}">
        <grt-sentence-input
            *ngSwitchCase="0"

            [inputSentence]="globalState.inputSentence"

            (onChangeValid)="setValid($event)"
            (onChangeValue)="updateSentence($event)"
            (onNext)="next()"

            #sentenceInput>
        </grt-sentence-input>
        <grt-parse
            *ngSwitchCase="1"

            [sentence]="globalState.inputSentence"
            [xml]="globalState.exampleXml"

            (onChangeValid)="setValid($event)"
            #parse>
        </grt-parse>
        <grt-matrix
            *ngSwitchCase="2"

            [attributes]="globalState.attributes"
            [isCustomXPath]="globalState.isCustomXPath"
            [tokens]="globalState.tokens"
            [xpath]="globalState.xpath"
            [subTreeXml]="globalState.subTreeXml"

            (onChangeValid)="setValid($event)"
            (onChangeValue)="updateMatrix($event)"

            #matrix>
        </grt-matrix>
        <grt-select-treebanks
            *ngSwitchCase="3"

            (onChangeValid)="setValid($event)"

            #selectTreebanks>
        </grt-select-treebanks>
        <grt-results
            *ngSwitchCase="4"

            [retrieveContext]="globalState.retrieveContext"
            [xpath]="globalState.xpath"
            [inputSentence]="globalState.inputSentence"

            (xpathChange)="updateXPath($event)"
            (onChangeRetrieveContext)="updateRetrieveContext($event)"
            (onChangeValid)="setValid($event)"
            (onPrev)="prev()"
            (onNext)="next()"

            #results>
        </grt-results>
        <grt-analysis
            *ngSwitchCase="5"

            [xpath]="globalState.xpath"

            (onChangeValid)="setValid($event)"

            #analysis>
        </grt-analysis>
    </div>
    <hr />
    <div *ngIf="warning" class="notification is-danger">{{warning}}</div>
    <grt-step-buttons *ngIf="globalState.currentStep.number > 0" (onPrev)="prev()" (onNext)="next()" [currentStep]="globalState.currentStep"
        [steps]="steps"></grt-step-buttons>
</ng-container>
